const e=Java.type("net.rwhps.server.plugin.Plugin"),r=Java.type("net.rwhps.server.util.game.CommandHandler"),t=Java.type("net.rwhps.server.game.event.global.NetConnectCloseEvent"),n=Java.type("net.rwhps.server.game.event.global.NetConnectNewEvent"),a=Java.type("net.rwhps.server.game.event.global.ServerHessLoadEvent"),s=Java.type("net.rwhps.server.game.event.global.ServerLoadEvent"),o=Java.type("net.rwhps.server.game.event.global.ServerStartTypeEvent"),v=Java.type("net.rwhps.server.game.event.AbstractGlobalEvent"),i=Java.type("net.rwhps.server.game.event.game.PlayerBanEvent"),l=Java.type("net.rwhps.server.game.event.game.PlayerChatEvent"),c=Java.type("net.rwhps.server.game.event.game.PlayerIpBanEvent"),p=Java.type("net.rwhps.server.game.event.game.PlayerIpUnBanEvent"),u=Java.type("net.rwhps.server.game.event.game.PlayerJoinEvent"),y=Java.type("net.rwhps.server.game.event.game.PlayerLeaveEvent"),m=Java.type("net.rwhps.server.game.event.game.PlayerOperationUnitEvent"),g=Java.type("net.rwhps.server.game.event.game.PlayerUnBanEvent"),f=Java.type("net.rwhps.server.game.event.game.ServerGameOverEvent"),h=Java.type("net.rwhps.server.game.event.game.ServerGameStartEvent"),w=Java.type("net.rwhps.server.game.event.game.ServerHessStartPort"),S=Java.type("net.rwhps.server.data.player.PlayerHess"),b=Java.type("net.rwhps.server.game.simulation.core.AbstractPlayerData"),P=Java.type("net.rwhps.server.data.event.GameOverData"),C=Java.type("net.rwhps.server.net.netconnectprotocol.realize.GameVersionRelay"),d=Java.type("net.rwhps.server.io.packet.Packet"),E=Java.type("net.rwhps.server.net.core.ConnectionAgreement"),J=Java.type("net.rwhps.server.net.core.server.AbstractNetConnectServer"),_=Java.type("net.rwhps.server.struct.Seq"),O=Java.type("net.rwhps.server.struct.ObjectMap"),G=Java.type("net.rwhps.server.net.core.DataPermissionStatus$ServerStatus"),N=Java.type("net.rwhps.server.game.GameUnitType$GameUnits"),x=Java.type("net.rwhps.server.net.core.IRwHps$NetType"),L=Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner");var j=Object.freeze({__proto__:null,AbstractGlobalEvent:v,AbstractNetConnectServer:J,AbstractPlayerData:b,CommandHandler:r,CommandRunner:L,ConnectionAgreement:E,GameOverData:P,GameUnits:N,GameVersionRelay:C,NetConnectCloseEvent:t,NetConnectNewEvent:n,NetType:x,ObjectMap:O,Packet:d,PlayerBanEvent:i,PlayerChatEvent:l,PlayerHess:S,PlayerIpBanEvent:c,PlayerIpUnBanEvent:p,PlayerJoinEvent:u,PlayerLeaveEvent:y,PlayerOperationUnitEvent:m,PlayerUnBanEvent:g,Plugin:e,Seq:_,ServerGameOverEvent:f,ServerGameStartEvent:h,ServerHessLoadEvent:a,ServerHessStartPort:w,ServerLoadEvent:s,ServerStartTypeEvent:o,ServerStatus:G});const B=Symbol("javaObj");function U(e){return r=>{let t=Object.getOwnPropertyDescriptors(r);const n={};function a(e){e in n||(n[e]={value:void 0,writable:!1,get:void 0,set:void 0,configurable:!1,enumerable:!0})}const s=[];for(const e of Object.getOwnPropertyNames(r))if(e.match(/^get/)&&"function"==typeof r[e]&&"get"!=e){const t=e.replace(/^get/,""),o=`${t.slice(0,1).toLowerCase()}${t.slice(1)}`;a(o),n[o].get=()=>$(r[e]()),s.includes(o)||s.push(o)}else if(e.match(/^set/)&&"function"==typeof r[e]&&"set"!=e){const t=e.replace(/^set/,""),o=`${t.slice(0,1).toLowerCase()}${t.slice(1)}`;a(o),n[o].writable=!0,n[o].set=t=>r[e](H(t)),s.includes(o)||s.push(o)}else{if("length"==e){s.includes("length")||s.push("length");continue}e&&(t[e].enumerable&&s.push(e),t[e].get=()=>$(r[e]))}return t={...t,...n,[B]:{get:()=>r}},new Proxy(r,{get(n,a){if(e&&e.prefixGet){const t=e.prefixGet(r,a);if(void 0!==t)return $(t)}return t[a]?t[a].get?t[a].get():void 0:$(r[a])},set(n,a,s){if(e&&e.prefixSet){const t=e.prefixSet(r,a);if(void 0!==t)return t}return!!(a in t&&"set"in t[a]&&t[a].writable)&&(t[a].set(H(s)),!0)},ownKeys:()=>[...s],has:(e,r)=>r in t,isExtensible:()=>!1,getOwnPropertyDescriptor(e,r){if(r in t)return{...t[r]}}})}}function H(e){return null==e||"object"!=typeof e?e:B in e?e[B]:e}function z(...e){return e.map((e=>null==e||"object"!=typeof e?e:B in e?e[B]:e))}const A=U(),D=U({prefixGet(e,r){if("number"==typeof r)return $(e[r]);if("symbol"==typeof r){if(r==Symbol.iterator){const r=e.iterator();return{next:()=>r.hasNext()?{value:r.next(),done:!1}:{done:!0}}}}else if("string"==typeof r)switch(r){case"push":return r=>e.add(H(r))&&r;case"pop":return()=>$(e.pop());case"length":return e.getSize}}}),I=U({prefixGet(e,r){switch(typeof r){case"symbol":if(r==Symbol.iterator){const r=e.iterator();return{next(){if(r.hasNext()){const e=r.next();return[$(e.getKey()),$(e.getValue())]}}}}break;case"string":switch(r){case"get":return r=>$(e.get(H(r)));case"set":return(r,t)=>$(e.put(H(r),H(t)))}}}}),R=e=>{const r=e.name();return r[B]=e,r},T=[[t,A],[d,A],[n,A],[E,A],[a,A],[o,A],[J,A],[S,A],[b,A],[_,D],[O,I],["byte[]",e=>{const r=new Uint8Array(e);return new Proxy(r,{get:(r,t)=>t==B?e:r[t],set:(e,r,t)=>r!=B&&(e[r]=t,!0)})}],[G,R],[g,A],[i,A],[l,A],[u,A],[c,A],[p,A],[y,A],[m,A],[f,A],[h,A],[w,A],[N,R],[P,A],[x,R],[r,A],[C,A]];function $(e){if(null==e||"object"!=typeof e)return e;if("getClass"in e&&"function"==typeof e.getClass){const r=e;for(const[e,t]of T)if("string"==typeof e)try{const n=Java.type(e);if(r.getClass().equals(n.class))return t(r)}catch(e){}else if("class"in e){const n=e;if(r.getClass().equals(n.class))return t(r)}}return e}function k(r){return new(Java.extend(e))({onEnable:r.onEnable,init:r.init,onDisable:r.onDisable,registerGlobalEvents(e){!function(e,r){e.registerGlobalEvents&&e.registerGlobalEvents({fire(e){switch(e){case"NetConnectClose":return r.fire(t);case"NetConnectNew":return r.fire(n);case"ServerHessLoad":return r.fire(a);case"ServerLoad":return r.fire(s);case"ServerStartType":return r.fire(o)}},listen(e,v){function i(e){return r.registerListener(e,(e=>v($(e))))}switch(e){case"NetConnectClose":return i(t);case"NetConnectNew":return i(n);case"ServerHessLoad":return i(a);case"ServerLoad":return i(s);case"ServerStartType":return i(o)}}}),e.registerEvents&&r.registerListener(a,(r=>{const t=r.getEventManage();e.registerEvents({fire(e){switch(e){case"PlayerBan":return t.fire(i);case"PlayerChat":return t.fire(l);case"PlayerIpBan":return t.fire(c);case"PlayerIpUnBan":return t.fire(p);case"PlayerJoin":case"PlayerLeave":return t.fire(u);case"PlayerOperationUnit":return t.fire(m);case"PlayerUnBan":return t.fire(g);case"ServerGameOver":return t.fire(f);case"ServerGameStart":return t.fire(h);case"ServerHessStartPort":return t.fire(w)}},listen(e,r){function n(e){return t.registerListener(e,(e=>r($(e))))}switch(e){case"PlayerBan":return n(i);case"PlayerChat":return n(l);case"PlayerIpBan":return n(c);case"PlayerIpUnBan":return n(p);case"PlayerJoin":return n(u);case"PlayerLeave":return n(y);case"PlayerOperationUnit":return n(m);case"PlayerUnBan":return n(g);case"ServerGameOver":return n(f);case"ServerGameStart":return n(h);case"ServerHessStartPort":return n(w)}}})}))}(r,e)},registerCoreCommands(e){r.registerCoreCommands($(e))},registerServerCommands(e){r.registerServerCommands($(e))},registerRelayCommands(e){r.registerRelayCommands($(e))},registerServerClientCommands(e){r.registerServerClientCommands($(e))},registerRelayClientCommands(e){r.registerRelayClientCommands($(e))}})}var q=Object.freeze({__proto__:null}),M=Object.freeze({__proto__:null}),V=Object.freeze({__proto__:null}),K=Object.freeze({__proto__:null}),F=Object.freeze({__proto__:null}),Q=Object.freeze({__proto__:null}),W=new(Java.extend(e))({onEnable(){console.log("JSLib已加载！")}});export{j as JavaTypes,z as args2java,F as command,k as createPlugin,V as data,W as default,q as event,K as io,M as net,$ as proxy,Q as struct,H as value2java};
