const e=Java.type("net.rwhps.server.plugin.Plugin"),r=Java.type("net.rwhps.server.data.HessModuleManage"),t=Java.type("net.rwhps.server.game.simulation.core.AbstractGameModule"),a=Java.type("net.rwhps.server.game.simulation.core.AbstractGameHessData"),n=Java.type("net.rwhps.server.data.global.ServerRoom"),s=Java.type("net.rwhps.server.data.player.PlayerHessManage"),o=Java.type("net.rwhps.server.util.game.CommandHandler"),i=Java.type("net.rwhps.server.game.event.global.NetConnectCloseEvent"),v=Java.type("net.rwhps.server.game.event.global.NetConnectNewEvent"),l=Java.type("net.rwhps.server.game.event.global.ServerHessLoadEvent"),c=Java.type("net.rwhps.server.game.event.global.ServerLoadEvent"),p=Java.type("net.rwhps.server.game.event.global.ServerStartTypeEvent"),u=Java.type("net.rwhps.server.game.event.core.AbstractGlobalEvent"),y=Java.type("net.rwhps.server.game.event.game.PlayerBanEvent"),m=Java.type("net.rwhps.server.game.event.game.PlayerChatEvent"),g=Java.type("net.rwhps.server.game.event.game.PlayerIpBanEvent"),f=Java.type("net.rwhps.server.game.event.game.PlayerIpUnBanEvent"),h=Java.type("net.rwhps.server.game.event.game.PlayerJoinEvent"),w=Java.type("net.rwhps.server.game.event.game.PlayerLeaveEvent"),P=Java.type("net.rwhps.server.game.event.game.PlayerOperationUnitEvent"),d=Java.type("net.rwhps.server.game.event.game.PlayerUnBanEvent"),S=Java.type("net.rwhps.server.game.event.game.ServerGameOverEvent"),C=Java.type("net.rwhps.server.game.event.game.ServerGameStartEvent"),b=Java.type("net.rwhps.server.game.event.game.ServerHessStartPort"),J=Java.type("net.rwhps.server.util.file.FileUtils"),E=Java.type("net.rwhps.server.data.player.PlayerHess"),G=Java.type("net.rwhps.server.game.simulation.core.AbstractPlayerData"),O=Java.type("net.rwhps.server.data.event.GameOverData"),U=Java.type("net.rwhps.server.net.netconnectprotocol.realize.GameVersionRelay"),_=Java.type("net.rwhps.server.io.packet.Packet"),H=Java.type("net.rwhps.server.net.core.ConnectionAgreement"),B=Java.type("net.rwhps.server.net.core.server.AbstractNetConnectServer"),L=Java.type("net.rwhps.server.struct.Seq"),x=Java.type("net.rwhps.server.struct.ObjectMap"),N=Java.type("net.rwhps.server.net.core.DataPermissionStatus$ServerStatus"),M=Java.type("net.rwhps.server.game.GameUnitType$GameUnits"),j=Java.type("net.rwhps.server.net.core.IRwHps$NetType"),R=Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner"),A=Java.type("net.rwhps.server.util.log.Log");var I=Object.freeze({__proto__:null,AbstractGameHessData:a,AbstractGameModule:t,AbstractGlobalEvent:u,AbstractNetConnectServer:B,AbstractPlayerData:G,CommandHandler:o,CommandRunner:R,ConnectionAgreement:H,FileUtils:J,GameOverData:O,GameUnits:M,GameVersionRelay:U,HessModuleManage:r,Log:A,NetConnectCloseEvent:i,NetConnectNewEvent:v,NetType:j,ObjectMap:x,Packet:_,PlayerBanEvent:y,PlayerChatEvent:m,PlayerHess:E,PlayerHessManage:s,PlayerIpBanEvent:g,PlayerIpUnBanEvent:f,PlayerJoinEvent:h,PlayerLeaveEvent:w,PlayerOperationUnitEvent:P,PlayerUnBanEvent:d,Plugin:e,Seq:L,ServerGameOverEvent:S,ServerGameStartEvent:C,ServerHessLoadEvent:l,ServerHessStartPort:b,ServerLoadEvent:c,ServerRoom:n,ServerStartTypeEvent:p,ServerStatus:N});const D=Symbol("javaObj");function z(e){return r=>{let t=Object.getOwnPropertyDescriptors(r);const a={};function n(e){e in a||(a[e]={value:void 0,writable:!1,get:void 0,set:void 0,configurable:!1,enumerable:!0})}const s=[];for(const e of Object.getOwnPropertyNames(r))if(e.match(/^get/)&&"function"==typeof r[e]&&"get"!=e&&"getClass"!=e){const t=e.replace(/^get/,""),o=`${t.slice(0,1).toLowerCase()}${t.slice(1)}`;n(o),a[o].get=()=>Y(r[e]()),s.includes(o)||s.push(o)}else if(e.match(/^set/)&&"function"==typeof r[e]&&"set"!=e){const t=e.replace(/^set/,""),o=`${t.slice(0,1).toLowerCase()}${t.slice(1)}`;n(o),a[o].writable=!0,a[o].set=t=>r[e]($(t)),s.includes(o)||s.push(o)}else{if("length"==e){s.includes("length")||s.push("length");continue}e&&(t[e].enumerable&&s.push(e),t[e].get=()=>Y(r[e]))}return t={...t,...a,[D]:{get:()=>r}},new Proxy(r,{get(a,n){if(e&&e.prefixGet){const t=e.prefixGet(r,n);if(void 0!==t)return Y(t)}return t[n]?t[n].get?t[n].get():void 0:Y(r[n])},set(a,n,s){if(e&&e.prefixSet){const t=e.prefixSet(r,n);if(void 0!==t)return t}return!!(n in t&&"set"in t[n]&&t[n].writable)&&(t[n].set($(s)),!0)},ownKeys:()=>[...s],has:(e,r)=>r in t,isExtensible:()=>!1,getOwnPropertyDescriptor(e,r){if(r in t)return{...t[r]}}})}}const T=[[e=>e instanceof Uint8Array,e=>Java.to(e,Java.type("byte[]"))]];function $(e){if(null==e)return e;if("object"==typeof e&&D in e)return e[D];for(const[r,t]of T)if(r(e))return t(e);return e}function k(...e){return e.map((e=>$(e)))}const q=z(),F=z({prefixGet(e,r){if("number"==typeof r)return Y(e[r]);if("symbol"==typeof r){if(r==Symbol.iterator){const r=e.iterator();return{next:()=>r.hasNext()?{value:r.next(),done:!1}:{done:!0}}}}else if("string"==typeof r)switch(r){case"push":return r=>e.add($(r))&&r;case"pop":return()=>Y(e.pop());case"length":return e.getSize}}}),V=z({prefixGet(e,r){switch(typeof r){case"symbol":if(r==Symbol.iterator){const r=e.iterator();return{next(){if(r.hasNext()){const e=r.next();return[Y(e.getKey()),Y(e.getValue())]}}}}break;case"string":switch(r){case"get":return r=>Y(e.get($(r)));case"set":return(r,t)=>Y(e.put($(r),$(t)))}}}}),K=e=>{const r=e.name();return r[D]=e,r},Q=z({prefixGet(e,r){if("eventManage"==r){const r=e.getEventManage();return{fire(e){switch(e){case"PlayerBan":return r.fire(y);case"PlayerChat":return r.fire(m);case"PlayerIpBan":return r.fire(g);case"PlayerIpUnBan":return r.fire(f);case"PlayerJoin":case"PlayerLeave":return r.fire(h);case"PlayerOperationUnit":return r.fire(P);case"PlayerUnBan":return r.fire(d);case"ServerGameOver":return r.fire(S);case"ServerGameStart":return r.fire(C);case"ServerHessStartPort":return r.fire(b)}},listen(e,t){function a(e){return r.registerListener(e,(e=>t(Y(e))))}switch(e){case"PlayerBan":return a(y);case"PlayerChat":return a(m);case"PlayerIpBan":return a(g);case"PlayerIpUnBan":return a(f);case"PlayerJoin":return a(h);case"PlayerLeave":return a(w);case"PlayerOperationUnit":return a(P);case"PlayerUnBan":return a(d);case"ServerGameOver":return a(S);case"ServerGameStart":return a(C);case"ServerHessStartPort":return a(b)}}}}}}),W=z({prefixGet(e,r){if("register"==r)return(r,t,a,n)=>{if("string"==typeof a){const s=t,o=a,i=n;e.register(r,s,o,new(Java.extend(Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner")))({accept:(e,r)=>$(i(e,Y(r)))}))}else{const n=t,s=a;e.register(r,n,new(Java.extend(Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner")))({accept:s}))}}}}),X=[[i,q],[_,q],[v,q],[H,q],[l,q],[p,q],[B,q],[E,q],[G,q],[L,F],[x,V],["byte[]",e=>{const r=new Uint8Array(e);return new Proxy(r,{get:(r,t)=>t==D?e:r[t],set:(e,r,t)=>r!=D&&(e[r]=t,!0)})}],[N,K],[d,q],[y,q],[m,q],[h,q],[g,q],[f,q],[w,q],[P,q],[S,q],[C,q],[b,q],[M,K],[O,q],[j,K],[o,W],[U,q],[t,Q],[n,q],[s,q],[J,q]];function Y(e){if(null==e||"object"!=typeof e&&"function"!=typeof e)return e;if("getClass"in e&&"function"==typeof e.getClass){const r=e;for(const[e,t]of X)if("string"==typeof e)try{const a=Java.type(e);if(r.getClass().equals(a.class))return t(r)}catch(e){}else if("class"in e){const a=e;if(r.getClass().equals(a.class))return t(r)}}return e}function Z(r){const t={fileUtils:null},a="function"==typeof r?r(t):r,n=new(Java.extend(e))({onEnable:a.onEnable,init:a.init,onDisable:a.onDisable,registerGlobalEvents(e){!function(e,r){e.registerGlobalEvents&&e.registerGlobalEvents({fire(e){switch(e){case"NetConnectClose":return r.fire(i);case"NetConnectNew":return r.fire(v);case"ServerHessLoad":return r.fire(l);case"ServerLoad":return r.fire(c);case"ServerStartType":return r.fire(p)}},listen(e,t){function a(e){return r.registerListener(e,(e=>t(Y(e))))}switch(e){case"NetConnectClose":return a(i);case"NetConnectNew":return a(v);case"ServerHessLoad":return a(l);case"ServerLoad":return a(c);case"ServerStartType":return a(p)}}}),e.registerEvents&&r.registerListener(l,(r=>{const t=r.getEventManage();e.registerEvents({fire(e){switch(e){case"PlayerBan":return t.fire(y);case"PlayerChat":return t.fire(m);case"PlayerIpBan":return t.fire(g);case"PlayerIpUnBan":return t.fire(f);case"PlayerJoin":case"PlayerLeave":return t.fire(h);case"PlayerOperationUnit":return t.fire(P);case"PlayerUnBan":return t.fire(d);case"ServerGameOver":return t.fire(S);case"ServerGameStart":return t.fire(C);case"ServerHessStartPort":return t.fire(b)}},listen(e,r){function a(e){return t.registerListener(e,(e=>r(Y(e))))}switch(e){case"PlayerBan":return a(y);case"PlayerChat":return a(m);case"PlayerIpBan":return a(g);case"PlayerIpUnBan":return a(f);case"PlayerJoin":return a(h);case"PlayerLeave":return a(w);case"PlayerOperationUnit":return a(P);case"PlayerUnBan":return a(d);case"ServerGameOver":return a(S);case"ServerGameStart":return a(C);case"ServerHessStartPort":return a(b)}}})}))}(a,e)},registerCoreCommands(e){a.registerCoreCommands&&a.registerCoreCommands(Y(e))},registerServerCommands(e){a.registerServerCommands&&a.registerServerCommands(Y(e))},registerRelayCommands(e){a.registerRelayCommands&&a.registerRelayCommands(Y(e))},registerServerClientCommands(e){a.registerServerClientCommands&&a.registerServerClientCommands(Y(e))},registerRelayClientCommands(e){a.registerRelayClientCommands&&a.registerRelayClientCommands(Y(e))}});return Object.defineProperty(t,"fileUtils",{get(){try{return Y(n.getPluginDataFileUtils())}catch(e){return null}}}),n}var ee=Object.freeze({__proto__:null}),re=Object.freeze({__proto__:null});const te=q(Java.type("net.rwhps.server.data.HessModuleManage"));var ae=Object.freeze({__proto__:null,HessModuleManage:te}),ne=Object.freeze({__proto__:null}),se=Object.freeze({__proto__:null}),oe=Object.freeze({__proto__:null}),ie=new(Java.extend(e))({onEnable(){A.clog("JSLib加载完成！")}});export{te as HessModuleManage,I as JavaTypes,A as Log,k as args2java,se as command,Z as createPlugin,ae as data,ie as default,ee as event,ne as io,re as net,Y as proxy,oe as struct,$ as value2java};
