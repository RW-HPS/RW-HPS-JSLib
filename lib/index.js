const e=Java.type("net.rwhps.server.plugin.Plugin"),r=Java.type("net.rwhps.server.data.HessModuleManage"),t=Java.type("net.rwhps.server.game.simulation.core.AbstractGameModule"),a=Java.type("net.rwhps.server.game.simulation.core.AbstractGameHessData"),n=Java.type("net.rwhps.server.data.global.ServerRoom"),s=Java.type("net.rwhps.server.data.player.PlayerHessManage"),o=Java.type("net.rwhps.server.util.game.CommandHandler"),v=Java.type("net.rwhps.server.game.event.global.NetConnectCloseEvent"),i=Java.type("net.rwhps.server.game.event.global.NetConnectNewEvent"),l=Java.type("net.rwhps.server.game.event.global.ServerHessLoadEvent"),c=Java.type("net.rwhps.server.game.event.global.ServerLoadEvent"),p=Java.type("net.rwhps.server.game.event.global.ServerStartTypeEvent"),u=Java.type("net.rwhps.server.game.event.core.AbstractGlobalEvent"),y=Java.type("net.rwhps.server.game.event.game.PlayerBanEvent"),m=Java.type("net.rwhps.server.game.event.game.PlayerChatEvent"),g=Java.type("net.rwhps.server.game.event.game.PlayerIpBanEvent"),f=Java.type("net.rwhps.server.game.event.game.PlayerIpUnBanEvent"),h=Java.type("net.rwhps.server.game.event.game.PlayerJoinEvent"),w=Java.type("net.rwhps.server.game.event.game.PlayerLeaveEvent"),P=Java.type("net.rwhps.server.game.event.game.PlayerOperationUnitEvent"),S=Java.type("net.rwhps.server.game.event.game.PlayerUnBanEvent"),d=Java.type("net.rwhps.server.game.event.game.ServerGameOverEvent"),C=Java.type("net.rwhps.server.game.event.game.ServerGameStartEvent"),b=Java.type("net.rwhps.server.game.event.game.ServerHessStartPort"),J=Java.type("net.rwhps.server.data.player.PlayerHess"),E=Java.type("net.rwhps.server.game.simulation.core.AbstractPlayerData"),G=Java.type("net.rwhps.server.data.event.GameOverData"),O=Java.type("net.rwhps.server.net.netconnectprotocol.realize.GameVersionRelay"),_=Java.type("net.rwhps.server.io.packet.Packet"),H=Java.type("net.rwhps.server.net.core.ConnectionAgreement"),B=Java.type("net.rwhps.server.net.core.server.AbstractNetConnectServer"),L=Java.type("net.rwhps.server.struct.Seq"),x=Java.type("net.rwhps.server.struct.ObjectMap"),U=Java.type("net.rwhps.server.net.core.DataPermissionStatus$ServerStatus"),N=Java.type("net.rwhps.server.game.GameUnitType$GameUnits"),M=Java.type("net.rwhps.server.net.core.IRwHps$NetType"),j=Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner"),R=Java.type("net.rwhps.server.util.log.Log");var A=Object.freeze({__proto__:null,AbstractGameHessData:a,AbstractGameModule:t,AbstractGlobalEvent:u,AbstractNetConnectServer:B,AbstractPlayerData:E,CommandHandler:o,CommandRunner:j,ConnectionAgreement:H,GameOverData:G,GameUnits:N,GameVersionRelay:O,HessModuleManage:r,Log:R,NetConnectCloseEvent:v,NetConnectNewEvent:i,NetType:M,ObjectMap:x,Packet:_,PlayerBanEvent:y,PlayerChatEvent:m,PlayerHess:J,PlayerHessManage:s,PlayerIpBanEvent:g,PlayerIpUnBanEvent:f,PlayerJoinEvent:h,PlayerLeaveEvent:w,PlayerOperationUnitEvent:P,PlayerUnBanEvent:S,Plugin:e,Seq:L,ServerGameOverEvent:d,ServerGameStartEvent:C,ServerHessLoadEvent:l,ServerHessStartPort:b,ServerLoadEvent:c,ServerRoom:n,ServerStartTypeEvent:p,ServerStatus:U});const I=Symbol("javaObj");function D(e){return r=>{let t=Object.getOwnPropertyDescriptors(r);const a={};function n(e){e in a||(a[e]={value:void 0,writable:!1,get:void 0,set:void 0,configurable:!1,enumerable:!0})}const s=[];for(const e of Object.getOwnPropertyNames(r))if(e.match(/^get/)&&"function"==typeof r[e]&&"get"!=e&&"getClass"!=e){const t=e.replace(/^get/,""),o=`${t.slice(0,1).toLowerCase()}${t.slice(1)}`;n(o),a[o].get=()=>W(r[e]()),s.includes(o)||s.push(o)}else if(e.match(/^set/)&&"function"==typeof r[e]&&"set"!=e){const t=e.replace(/^set/,""),o=`${t.slice(0,1).toLowerCase()}${t.slice(1)}`;n(o),a[o].writable=!0,a[o].set=t=>r[e](z(t)),s.includes(o)||s.push(o)}else{if("length"==e){s.includes("length")||s.push("length");continue}e&&(t[e].enumerable&&s.push(e),t[e].get=()=>W(r[e]))}return t={...t,...a,[I]:{get:()=>r}},new Proxy(r,{get(a,n){if(e&&e.prefixGet){const t=e.prefixGet(r,n);if(void 0!==t)return W(t)}return t[n]?t[n].get?t[n].get():void 0:W(r[n])},set(a,n,s){if(e&&e.prefixSet){const t=e.prefixSet(r,n);if(void 0!==t)return t}return!!(n in t&&"set"in t[n]&&t[n].writable)&&(t[n].set(z(s)),!0)},ownKeys:()=>[...s],has:(e,r)=>r in t,isExtensible:()=>!1,getOwnPropertyDescriptor(e,r){if(r in t)return{...t[r]}}})}}function z(e){return null==e||"object"!=typeof e?e:I in e?e[I]:e}function T(...e){return e.map((e=>null==e||"object"!=typeof e?e:I in e?e[I]:e))}const $=D(),k=D({prefixGet(e,r){if("number"==typeof r)return W(e[r]);if("symbol"==typeof r){if(r==Symbol.iterator){const r=e.iterator();return{next:()=>r.hasNext()?{value:r.next(),done:!1}:{done:!0}}}}else if("string"==typeof r)switch(r){case"push":return r=>e.add(z(r))&&r;case"pop":return()=>W(e.pop());case"length":return e.getSize}}}),q=D({prefixGet(e,r){switch(typeof r){case"symbol":if(r==Symbol.iterator){const r=e.iterator();return{next(){if(r.hasNext()){const e=r.next();return[W(e.getKey()),W(e.getValue())]}}}}break;case"string":switch(r){case"get":return r=>W(e.get(z(r)));case"set":return(r,t)=>W(e.put(z(r),z(t)))}}}}),V=e=>{const r=e.name();return r[I]=e,r},K=D({prefixGet(e,r){if("eventManage"==r){const r=e.getEventManage();return{fire(e){switch(e){case"PlayerBan":return r.fire(y);case"PlayerChat":return r.fire(m);case"PlayerIpBan":return r.fire(g);case"PlayerIpUnBan":return r.fire(f);case"PlayerJoin":case"PlayerLeave":return r.fire(h);case"PlayerOperationUnit":return r.fire(P);case"PlayerUnBan":return r.fire(S);case"ServerGameOver":return r.fire(d);case"ServerGameStart":return r.fire(C);case"ServerHessStartPort":return r.fire(b)}},listen(e,t){function a(e){return r.registerListener(e,(e=>t(W(e))))}switch(e){case"PlayerBan":return a(y);case"PlayerChat":return a(m);case"PlayerIpBan":return a(g);case"PlayerIpUnBan":return a(f);case"PlayerJoin":return a(h);case"PlayerLeave":return a(w);case"PlayerOperationUnit":return a(P);case"PlayerUnBan":return a(S);case"ServerGameOver":return a(d);case"ServerGameStart":return a(C);case"ServerHessStartPort":return a(b)}}}}}}),F=D({prefixGet(e,r){if("register"==r)return(r,t,a,n)=>{if("string"==typeof a){const s=t,o=a,v=n;e.register(r,s,o,new(Java.extend(Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner")))({accept:(e,r)=>z(v(e,W(r)))}))}else{const n=t,s=a;e.register(r,n,new(Java.extend(Java.type("net.rwhps.server.util.game.CommandHandler.CommandRunner")))({accept:s}))}}}}),Q=[[v,$],[_,$],[i,$],[H,$],[l,$],[p,$],[B,$],[J,$],[E,$],[L,k],[x,q],["byte[]",e=>{const r=new Uint8Array(e);return new Proxy(r,{get:(r,t)=>t==I?e:r[t],set:(e,r,t)=>r!=I&&(e[r]=t,!0)})}],[U,V],[S,$],[y,$],[m,$],[h,$],[g,$],[f,$],[w,$],[P,$],[d,$],[C,$],[b,$],[N,V],[G,$],[M,V],[o,F],[O,$],[t,K],[n,$],[s,$]];function W(e){if(null==e||"object"!=typeof e&&"function"!=typeof e)return e;if("getClass"in e&&"function"==typeof e.getClass){const r=e;for(const[e,t]of Q)if("string"==typeof e)try{const a=Java.type(e);if(r.getClass().equals(a.class))return t(r)}catch(e){}else if("class"in e){const a=e;if(r.getClass().equals(a.class))return t(r)}}return e}function X(r){return new(Java.extend(e))({onEnable:r.onEnable,init:r.init,onDisable:r.onDisable,registerGlobalEvents(e){!function(e,r){e.registerGlobalEvents&&e.registerGlobalEvents({fire(e){switch(e){case"NetConnectClose":return r.fire(v);case"NetConnectNew":return r.fire(i);case"ServerHessLoad":return r.fire(l);case"ServerLoad":return r.fire(c);case"ServerStartType":return r.fire(p)}},listen(e,t){function a(e){return r.registerListener(e,(e=>t(W(e))))}switch(e){case"NetConnectClose":return a(v);case"NetConnectNew":return a(i);case"ServerHessLoad":return a(l);case"ServerLoad":return a(c);case"ServerStartType":return a(p)}}}),e.registerEvents&&r.registerListener(l,(r=>{const t=r.getEventManage();e.registerEvents({fire(e){switch(e){case"PlayerBan":return t.fire(y);case"PlayerChat":return t.fire(m);case"PlayerIpBan":return t.fire(g);case"PlayerIpUnBan":return t.fire(f);case"PlayerJoin":case"PlayerLeave":return t.fire(h);case"PlayerOperationUnit":return t.fire(P);case"PlayerUnBan":return t.fire(S);case"ServerGameOver":return t.fire(d);case"ServerGameStart":return t.fire(C);case"ServerHessStartPort":return t.fire(b)}},listen(e,r){function a(e){return t.registerListener(e,(e=>r(W(e))))}switch(e){case"PlayerBan":return a(y);case"PlayerChat":return a(m);case"PlayerIpBan":return a(g);case"PlayerIpUnBan":return a(f);case"PlayerJoin":return a(h);case"PlayerLeave":return a(w);case"PlayerOperationUnit":return a(P);case"PlayerUnBan":return a(S);case"ServerGameOver":return a(d);case"ServerGameStart":return a(C);case"ServerHessStartPort":return a(b)}}})}))}(r,e)},registerCoreCommands(e){r.registerCoreCommands&&r.registerCoreCommands(W(e))},registerServerCommands(e){r.registerServerCommands&&r.registerServerCommands(W(e))},registerRelayCommands(e){r.registerRelayCommands&&r.registerRelayCommands(W(e))},registerServerClientCommands(e){r.registerServerClientCommands&&r.registerServerClientCommands(W(e))},registerRelayClientCommands(e){r.registerRelayClientCommands&&r.registerRelayClientCommands(W(e))}})}var Y=Object.freeze({__proto__:null}),Z=Object.freeze({__proto__:null});const ee=$(Java.type("net.rwhps.server.data.HessModuleManage"));var re=Object.freeze({__proto__:null,HessModuleManage:ee}),te=Object.freeze({__proto__:null}),ae=Object.freeze({__proto__:null}),ne=Object.freeze({__proto__:null}),se=new(Java.extend(e))({onEnable(){R.clog("JSLib加载完成！")}});export{ee as HessModuleManage,A as JavaTypes,R as Log,T as args2java,ae as command,X as createPlugin,re as data,se as default,Y as event,te as io,Z as net,W as proxy,ne as struct,z as value2java};
